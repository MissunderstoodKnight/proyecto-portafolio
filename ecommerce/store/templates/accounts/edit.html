{% extends 'store/main.html' %}
{% load static %}
{% block content %}
	<title>Editar</title>
<body>
<a data-toggle="modal" data-target="#exampleModalInfo"><i class="fa fa-info-circle" aria-hidden="true"></i></a>
<div class="modal fade" id="exampleModalInfo" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel"><strong>Manual de Ayuda</strong></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p><strong>TU CUENTA en Ferretería Ferme</strong></p>
                <p>A la izquierda de tu pantalla visualizarás la información de tu cuenta. También tienes la opción de Eliminar tu cuenta.</p>
                <p>A la derecha de tu pantalla visualizarás un pequeño formulario donde podrás editar los datos de tu cuenta.</p>
                <p style="float: right;"><small>Ferretería Ferme. <br> En tu barrio, siempre.</small> </p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Volver</button>
            </div>
        </div>
    </div>
</div>

	<div class="row">
		<div class="col-6">
			<!-- Datos de Perfil -->
			<h2><i class="fas fa-user"></i> Mi Cuenta</h2>
			<h4>Nombre</h4>
			<p>{{ user.profile.name }} {{user.profile.last_name}}</p>
			<h4>Telefono</h4>
			<p>{{ user.profile.phone_number}}</p>
			<h4>Tipo de usuario</h4>
			<p>{{ user.profile.tipo}}</p>
			<!-- Datos de usuario -->
			<h4>Usuario</h4>
			<p>{{ user.username }}</p>
			<h4>Email</h4>
			<p>{{ user.email }}</p>


			<button type="button" class="btn btn-outline-danger" data-toggle="modal" data-target="#exampleModal">
			  Eliminar
			</button>
			<!-- <a class="btn btn-danger" href="{% url 'delete' %}"><i class="far fa-trash-alt fa-2x"></i>Eliminar</a> -->

<!-- Modal -->
			<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
			  <div class="modal-dialog" role="document">
			    <div class="modal-content">
			      <div class="modal-header">
			        <h5 class="modal-title" id="exampleModalLabel">Eliminar</h5>
			        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
			          <span aria-hidden="true">&times;</span>
			        </button>
			      </div>
			      <div class="modal-body">
			        ¿ Seguro de que deseas eliminar tu cuenta ?
			      </div>
			      <div class="modal-footer">
			        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
			        <a class="btn btn-danger" href="{% url 'delete' %}">Eliminar</a>
			      </div>
			    </div>
			  </div>
			</div>
		</div>
		<div class="col-6">
			<div class="container h-100">
	        <div class="d-flex justify-content-center h-100">
	            <div class="user_card">
	                <div class="d-flex justify-content-center">
	                    <h3 class="form-tittle">MODIFICAR CUENTA</h3>
	                </div>
	                <form method="POST" action="" enctype="multipart/form-data">
	                    {% csrf_token %}
	                    <div class="input-group mb-3">
	                        <div class="input-group-append">
	                            <span class="input-group-text"><i class="fas fa-user"></i></span>
	                        </div>
	                        {{form.username}}
	                    </div>
											<div class="input-group mb-3">
													<div class="input-group-append">
															<span class="input-group-text"><i class="fas fa-envelope"></i></span>
													</div>
													{{form.email}}
											</div>
	                    <div class="input-group mb-2">
	                        <div class="input-group-append">
	                            <span class="input-group-text"><i class="fas fa-key"></i></span>
	                        </div>
	                        {{form.password1}}
	                    </div>
	                    <div class="input-group mb-2">
	                        <div class="input-group-append">
	                            <span class="input-group-text"><i class="fas fa-key"></i></span>
	                        </div>
	                        {{form.password2}}
	                    </div>
											<div class="input-group mb-2">
	                        <div class="input-group-append">
	                            <span class="input-group-text"><i class="fas fa-user"></i></span>
	                        </div>
	                        {{profile.name}}
	                    </div>
	                    <div class="input-group mb-2">
	                        <div class="input-group-append">
	                            <span class="input-group-text"><i class="fas fa-user"></i></span>
	                        </div>
	                        {{profile.last_name}}
	                    </div>
	                    <div class="input-group mb-2">
	                        <div class="input-group-append">
	                            <span class="input-group-text"><i class="fas fa-user"></i></span>
	                        </div>
	                        {{profile.phone_number}}
	                    </div>
	                       <div class="d-flex justify-content-center mt-3 login_container">
	                         <input class="btn btn-outline-success" type="submit" value="Editar Usuario">
	                       </div>
						<div class="pt-5">
							<div class="alert alert-warning" role="alert">
								<strong>OJO!</strong> Si deseas cambiar tu clave, escribe tu nueva clave en ambos campos. Si no deseas cambiar tu clave, escribe la que actualmente utilizas para confirmar los demás cambios.
							</div>
						</div>
	                </form>
	            </div>
	        </div>
	    </div>
		</div>
							
	</div>

    <script>
        /* Because i didnt set placeholder values in forms.py they will be set here using vanilla Javascript
        //We start indexing at one because CSRF_token is considered and input field
        */
        //Query All input fields
        var form_fields = document.getElementsByTagName('input')
        form_fields[1].placeholder='Usuario..';
        form_fields[2].placeholder='Email..';
        form_fields[3].placeholder='Enter password...';
        form_fields[4].placeholder='Re-enter Password...';
        for (var field in form_fields){
        form_fields[field].className += ' form-control'
        }
    </script>
</body>
{% endblock content %}
